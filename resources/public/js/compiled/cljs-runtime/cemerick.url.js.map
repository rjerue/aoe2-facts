{"version":3,"sources":["cemerick/url.cljs"],"mappings":"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","names":["cemerick.url/url-encode","string","G__47631","js/encodeURIComponent","cemerick.url/url-decode","G__47633","js/decodeURIComponent","cemerick.url/map->query","m","G__47638","cljs.core/seq","cljs.core.sort","cljs.core.map","p__47639","vec__47640","cljs.core.nth","k","v","cljs.core/name","cljs.core.interpose","cljs.core/flatten","cljs.core.apply","cljs.core/str","cemerick.url/split-param","param","clojure.string.split","cljs.core.concat","cljs.core.repeat","cljs.core.take","cemerick.url/query->map","qstr","clojure.string/blank?","G__47647","cljs.core.mapcat","cljs.core/hash-map","cemerick.url/port-str","protocol","port","cljs.core.not_EQ_","cljs.core._EQ_","cemerick.url/url-creds","username","password","this__4380__auto__","k__4381__auto__","this__4382__auto__","k47657","else__4383__auto__","G__47674","cljs.core/Keyword","host","path","query","anchor","cljs.core.get","__extmap","this__4399__auto__","f__4400__auto__","init__4401__auto__","cljs.core.reduce","ret__4402__auto__","p__47681","vec__47684","k__4403__auto__","v__4404__auto__","this__4394__auto__","writer__4395__auto__","opts__4396__auto__","pr-pair__4397__auto__","keyval__4398__auto__","cljs.core/pr-sequential-writer","cljs.core/PersistentVector","G__47656","cljs.core/RecordIter","cljs.core/-iterator","cljs.core/nil-iter","this__4378__auto__","__meta","this__4375__auto__","__hash","this__4384__auto__","cljs.core/count","this__4376__auto__","h__4238__auto__","coll__4377__auto__","cljs.core/hash-unordered-coll","this47658","other47659","this__4389__auto__","k__4390__auto__","cljs.core/contains?","cljs.core.dissoc","cljs.core/-with-meta","cljs.core.into","cljs.core/not-empty","this__4387__auto__","k__4388__auto__","pred__47694","cljs.core/keyword-identical?","expr__47695","cljs.core.assoc","this__4392__auto__","cljs.core/MapEntry","this__4379__auto__","this__4385__auto__","entry__4386__auto__","cljs.core/vector?","cljs.core/-nth","cljs.core/-conj","cemerick.url/URL","this__4423__auto__","cljs.core/List","writer__4424__auto__","cljs.core/-write","G__47660","extmap__4419__auto__","G__47710","cljs.core/record?","cemerick.url/->URL","cemerick.url/map->URL","this","creds","cemerick.url/translate-default","s","old-default","new-default","cemerick.url/url*","url","vec__47720","js/goog.Uri","user","pass","or__4126__auto__","and__4115__auto__","pathetic.core/normalize","var_args","G__47736","cemerick.url/url","args-arr__4757__auto__","len__4736__auto__","i__4737__auto__","argseq__4758__auto__","cljs.core/IndexedSeq","seq47732","G__47734","cljs.core/first","cljs.core/next","self__4723__auto__","base-url","path-segments","cemerick.url.url","pathetic.core/resolve"],"sourcesContent":["(ns cemerick.url\n                                                  \n         (:require-macros [clojure.core :refer [some-> some->>]])\n  (:require [pathetic.core :as pathetic]\n            [clojure.string :as string]\n                   [goog.Uri :as uri]))\n\n     \n                \n          \n                                                                       \n\n      \n(defn url-encode\n  [string]\n  (some-> string str (js/encodeURIComponent) (.replace \"+\" \"%20\")))\n\n     \n                \n                                        \n                    \n                                                      \n\n      \n(defn url-decode\n  [string]\n  (some-> string str (js/decodeURIComponent)))\n\n(defn map->query\n  [m]\n  (some->> (seq m)\n    sort                     ; sorting makes testing a lot easier :-)\n    (map (fn [[k v]]\n           [(url-encode (name k))\n            \"=\"\n            (url-encode (str v))]))\n    (interpose \"&\")\n    flatten\n    (apply str)))\n\n(defn split-param [param]\n  (->\n   (string/split param #\"=\")\n   (concat (repeat \"\"))\n   (->>\n    (take 2))))\n\n(defn query->map\n  [qstr]\n  (when (not (string/blank? qstr))\n    (some->> (string/split qstr #\"&\")\n      seq\n      (mapcat split-param)\n      (map url-decode)\n      (apply hash-map))))\n\n(defn- port-str\n  [protocol port]\n  (when (and (not= nil port)\n             (not= -1 port)\n             (not (and (== port 80) (= protocol \"http\")))\n             (not (and (== port 443) (= protocol \"https\"))))\n    (str \":\" port)))\n\n(defn- url-creds\n  [username password]\n  (when username\n    (str username \":\" password)))\n\n(defrecord URL\n  [protocol username password host port path query anchor]\n  Object\n  (toString [this]\n    (let [creds (url-creds username password)]\n      (str protocol \"://\"\n           creds\n           (when creds \\@)\n           host\n           (port-str protocol port)\n           path\n           (when (seq query) (str \\? (if (string? query)\n                                       query\n                                       (map->query query))))\n           (when anchor (str \\# anchor))))))\n\n     \n           \n       \n                               \n                                                                     \n                                           \n                               \n                               \n                        \n                        \n                                             \n                                      \n                          \n\n      \n(defn translate-default\n  [s old-default new-default]\n  (if (= s old-default)\n    new-default\n    s))\n\n      \n(defn- url*\n  [url]\n  (let [url (goog.Uri. url)\n        [user pass] (string/split (or (.getUserInfo url) \"\") #\":\" 2)]\n    (URL. (.getScheme url)\n          (and (seq user) user)\n          (and (seq pass) pass)\n          (.getDomain url)\n          (translate-default (.getPort url) nil -1)\n          (pathetic/normalize (.getPath url))\n          (query->map (translate-default (.getQuery url) \"\" nil))\n          (translate-default (.getFragment url) \"\" nil))))\n\n(defn url\n  \"Returns a new URL record for the given url string(s).\n\n   The first argument must be a base url \u2014\u00a0either a complete url string, or\n   a pre-existing URL record instance that will serve as the basis for the new\n   URL.  Any additional arguments must be strings, which are interpreted as\n   relative paths that are successively resolved against the base url's path\n   to construct the final :path in the returned URL record. \n\n   This function does not perform any url-encoding.  Use `url-encode` to encode\n   URL path segments as desired before passing them into this fn.\"\n  ([url]\n    (if (instance? URL url)\n      url\n      (url* url)))\n  ([base-url & path-segments]\n    (let [base-url (if (instance? URL base-url) base-url (url base-url))]\n      (assoc base-url :path (pathetic/normalize (reduce pathetic/resolve\n                                                        (:path base-url)\n                                                        path-segments))))))\n\n\n;;;;;;;;;;;; This file autogenerated from src/cemerick/url.cljx\n"]}