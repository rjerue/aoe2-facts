{"version":3,"sources":["aoe2/routes.cljs"],"mappings":";AAMA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKA;AAIL,AAAKC,AACH,AAAA,AAAAC,AAAME;AAAN,AAAgB,AAAA,AAAA,AAAA,AAAA,AAAA,AAACC,AAAyD,AAAA,AAAAH,AACA,AAAAA,AAAA,AAAA,AAAA,AAACI;;AAD3E,AAAAH,AAEMI;AAFN,AAEa,AAAAJ,AAACK,AAAiBR;;AAF/B,AAGE,AAACS,AAAYL,AAASG;;AAE1B,AAAA,AAAMG;AAAN,AAEE,AAAcT;;AAEhB,AAAKU,AAAQ,AAACC,AAAQC,AAAcb;AAEpC,AAAA,AAAA,AAAA,AAACW","names":["aoe2.routes/routes","aoe2.routes/history","p1__55679#","p1__55680#","dispatch","re-frame.core/dispatch","cljs.core.get_in","match","bidi.bidi/match-route","pushy.core/pushy","aoe2.routes/start!","aoe2.routes/url-for","cljs.core.partial","bidi.bidi/path-for"],"sourcesContent":["(ns aoe2.routes\n  (:require [bidi.bidi :as bidi]\n            [pushy.core :as pushy]\n            [re-frame.core :as re-frame]\n            [aoe2.events :as events]))\n\n(def routes [\"/\" {\"\"      :home-panel\n                  \"about\" :about-panel\n                  \"civ/\" {[:slug] :civ-panel}}])\n\n(def history\n  (let [dispatch #(re-frame/dispatch [::events/set-active-panel {:page      (:handler %)\n                                                                 :slug      (get-in % [:route-params :slug])}])\n        match #(bidi/match-route routes %)]\n    (pushy/pushy dispatch match)))\n\n(defn start!\n  []\n  (pushy/start! history))\n\n(def url-for (partial bidi/path-for routes))\n\n(url-for :civ-panel :slug 1)"]}