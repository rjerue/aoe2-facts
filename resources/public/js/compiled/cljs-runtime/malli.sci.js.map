{"version":3,"sources":["malli/sci.cljc"],"mappings":";AAGA,AAAA,AAAMA,AAAWC,AAAQC;AAAzB,AACE,AAAMC,AAAa,AAAAC,AAAA;AAAA,AAAA,AAAA,AAAAC,AAAAC,AAAAC;AAAoBO;;AAApB,AAAAN,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAD;AAAA,AAAAE,AAAAF;AAAA,AAAA,AAAAG,AAAAD;;AAAA,AAAA,AAAAE,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA;;;AAAA;AACbE,AAAK,AAAAX,AAAA;AAAA,AAAA,AAAA,AAAAC,AAAAC,AAAAU;AAAoBC;;AAApB,AAAAT,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAD;AAAA,AAAAE,AAAAF;AAAA,AAAA,AAAAG,AAAAD;;AAAA,AAAA,AAAAE,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA;;;AAAA;AACLK,AAAK,AAAAd,AAAA;AAAA,AAAA,AAAA,AAAAC,AAAAC,AAAAa;AAAoBC;;AAApB,AAAAZ,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAD;AAAA,AAAAE,AAAAF;AAAA,AAAA,AAAAG,AAAAD;;AAAA,AAAA,AAAAE,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA;;;AAAA;AAFX,AAGE;AAAA,AAAO,AAAI,AAAAQ,AAAA,AAAAC,AAAMnB;AAAN,AAAA,AAAAkB;AAAA,AAAAA,AAAA,AAAAC,AAAoBP;AAApB,AAAA,AAAAM;AAAA,AAAAC,AAA0BJ;;AAA1BG;;;AAAAA;;;AACF,AAAME,AAAI,AAACR,AAAAA,AAAAA,AAAKd,AAAAA;AAAhB,AACE,AAAUuB;AAAV,AAAa,AAAAC,AAAc,AAACP,AAAAA,AAAAA,AAAKK,AAAAA;AAApBG,AAAyB,AAAKF;AAA9B,AAAA,AAAAC,AAAAC,AAAAD,AAAAC,AAACvB,AAAAA,AAAAA;;;AAChBD","names":["malli.sci/evaluator","options","fail!","eval-string*","borkdude.dynaload/LazyVar","js/sci","js/sci.core","js/sci.core.eval-string*","temp__5733__auto__","cljs.core/find","e__45954__auto__","cljs.core/val","js/Error","cljs.core/namespace","sci.core/eval-string*","init","js/sci.core.init","sci.core/init","fork","js/sci.core.fork","sci.core/fork","and__4115__auto__","cljs.core/deref","ctx","s","G__46100","G__46101"],"sourcesContent":["(ns malli.sci\n  (:require [borkdude.dynaload :as dynaload]))\n\n(defn evaluator [options fail!]\n  (let [eval-string* (dynaload/dynaload 'sci.core/eval-string* {:default nil})\n        init (dynaload/dynaload 'sci.core/init {:default nil})\n        fork (dynaload/dynaload 'sci.core/fork {:default nil})]\n    (fn [] (if (and @eval-string* @init @fork)\n             (let [ctx (init options)]\n               (fn eval [s] (eval-string* (fork ctx) (str s))))\n             fail!))))\n"]}