{"version":3,"sources":["reagent/session.cljs"],"mappings":"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","names":["js/reagent","js/reagent.session","js/reagent.session.state","reagent.session/state","reagent.core.atom","reagent.session/cursor","ks","reagent.core/cursor","var_args","args__4742__auto__","len__4736__auto__","i__4737__auto__","argseq__4743__auto__","cljs.core/IndexedSeq","reagent.session/get","p__47077","vec__47078","cljs.core.nth","seq47075","G__47076","cljs.core/first","cljs.core/next","self__4723__auto__","k","default","cljs.core/deref","temp-a","reagent.session/put!","v","cljs.core.swap_BANG_","cljs.core/assoc","reagent.session/get-in","p__47083","vec__47084","seq47081","G__47082","result","reagent.session/swap!","seq47087","G__47088","f","args","cljs.core.apply","cljs.core/swap!","reagent.session/clear!","cljs.core/reset!","reagent.session/reset!","m","reagent.session/remove!","cljs.core/dissoc","reagent.session/assoc-in!","cljs.core/assoc-in","reagent.session/get!","p__47091","vec__47092","seq47089","G__47090","cur","reagent.session.get","reagent.session/get-in!","p__47097","vec__47098","seq47095","G__47096","reagent.session.get_in","reagent.session/update!","seq47102","G__47103","G__47104","p1__47101#","cljs.core.partial","cljs.core/update","reagent.session/update-in!","seq47106","G__47107","G__47108","p1__47105#","cljs.core/update-in"],"sourcesContent":["(ns reagent.session\n  (:refer-clojure :exclude [get get-in reset! swap!])\n  (:require [reagent.core :as reagent :refer [atom]]))\n\n(defonce state (atom {}))\n\n(defn cursor\n  \"Returns a cursor from the state atom.\"\n  [ks]\n  (reagent/cursor state ks))\n\n(defn get\n  \"Get the key's value from the session, returns nil if it doesn't exist.\"\n  [k & [default]]\n  (let [temp-a @(cursor [k])]\n    (if-not (nil? temp-a) temp-a default)))\n\n(defn put! [k v]\n  (clojure.core/swap! state assoc k v))\n\n(defn get-in\n \"Gets the value at the path specified by the vector ks from the session,\n  returns nil if it doesn't exist.\"\n  [ks & [default]]\n  (let [result @(cursor ks)]\n    (if-not (nil? result) result default)))\n\n(defn swap!\n  \"Replace the current session's value with the result of executing f with\n  the current value and args.\"\n  [f & args]\n  (apply clojure.core/swap! state f args))\n\n(defn clear!\n  \"Remove all data from the session and start over cleanly.\"\n  []\n  (clojure.core/reset! state {}))\n\n(defn reset! [m]\n  (clojure.core/reset! state m))\n\n(defn remove!\n  \"Remove a key from the session\"\n  [k]\n  (clojure.core/swap! state dissoc k))\n\n(defn assoc-in!\n  \"Associates a value in the session, where ks is a\n   sequence of keys and v is the new value and returns\n   a new nested structure. If any levels do not exist,\n   hash-maps will be created.\"\n  [ks v]\n  (clojure.core/swap! state assoc-in  ks v))\n\n(defn get!\n  \"Destructive get from the session. This returns the current value of the key\n  and then removes it from the session.\"[k & [default]]\n  (let [cur (get k default)]\n    (remove! k)\n    cur))\n\n(defn get-in!\n  \"Destructive get from the session. This returns the current value of the path\n  specified by the vector ks and then removes it from the session.\"\n  [ks & [default]]\n    (let [cur (get-in ks default)]\n      (assoc-in! ks nil)\n      cur))\n\n(defn update!\n  \"Updates a value in session where k is a key and f\n   is the function that takes the old value along with any\n   supplied args and return the new value. If key is not\n   present it will be added.\"\n  [k f & args]\n  (clojure.core/swap!\n    state\n    #(apply (partial update % k f) args)))\n\n(defn update-in!\n  \"Updates a value in the session, where ks is a\n   sequence of keys and f is a function that will\n   take the old value along with any supplied args and return\n   the new value. If any levels do not exist, hash-maps\n   will be created.\"\n  [ks f & args]\n  (clojure.core/swap!\n    state\n    #(apply (partial update-in % ks f) args)))\n"]}